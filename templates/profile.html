{% extends 'base2.html' %}
{% block content %}
<style>
    body{
background-image:url('../static/pic6.jpg');
background-repeat: no-repeat;
height:100%;
background-size:cover;
}
</style>
<br>
<div class="text-center" style="color:blue"><h1>Hi, {{userid}}!</h1></div>
<div class="text-center" style="color:red"><h2>Search</h2></div><br>
<div class="container">
    <form class="justify-content-center" method="POST">
        <div class="form row align-items-center">
            <div class="form-group row">
                <label for="RestName" class="col-sm-2 col-form-label">Restaurant Name </label>
                <div class="col-sm-10">
                    <input type="restname" class="form-control" id="restname" name="restname" aria-describedby="usernamelHelp" placeholder="Name of Restaurant (prefix works) (Case sensitive)">
                </div>
            </div>

            <div class="col-auto justify-content-center">
                <br>
                <div class="form-group">
                    <label for="exampleCost">Cost for Two</label>
                    <select name="cost" id = "cost" placeholder = "Select Cost">
                        {%if sess.cost_selected == 0 %}
                        <option value = 0 selected> Less Than 1000 </option>
                        <option value = 1> 1000-5000 </option>
                        <option value = 2> Greater Than 5000 </option>
                        <option value = 3 > All </option>
                        {%endif%}
                        {%if sess.cost_selected == 1 %}
                        <option value = 0> Less Than 1000 </option>
                        <option value = 1 selected> 1000-5000 </option>
                        <option value = 2> Greater Than 5000 </option>
                        <option value = 3 > All </option>
                        {%endif%}
                        {%if sess.cost_selected == 2 %}
                        <option value = 0> Less Than 1000 </option>
                        <option value = 1> 1000-5000 </option>
                        <option value = 2 selected> Greater Than 5000 </option>
                        <option value = 3 > All </option>
                        {%endif%}
                        {%if sess.cost_selected == 3 or sess.cost_selected == -1 %}
                        <option value = 0> Less Than 1000 </option>
                        <option value = 1> 1000-5000 </option>
                        <option value = 2> Greater Than 5000 </option>
                        <option value = 3 selected> All </option>
                        {%endif%}
                    </select>
                </div>
            </div>
            <br>
            <div class="col-auto">
                <br>
                <div class="form-group">
                    <label for="exampleRatingr">Rating</label>
                    <select name="rating" id = "rating" placeholder = "Select Rating">
                        {%if sess.rating_selected == 4  %}
                        <option value = 4 selected> 4-5 </option>
                        <option value = 3> 3-4 </option>
                        <option value = 2> 2-3 </option>
                        <option value = 1> 1-2 </option>
                        <option value = 0> 0-1 </option>
                        <option value = 5> All </option>
                        {%endif%}
                        {%if sess.rating_selected == 3 %}
                        <option value = 4> 4-5 </option>
                        <option value = 3 selected> 3-4 </option>
                        <option value = 2> 2-3 </option>
                        <option value = 1> 1-2 </option>
                        <option value = 0> 0-1 </option>
                        <option value = 5> All </option>
                        {%endif%}
                        {%if sess.rating_selected == 2 %}
                        <option value = 4> 4-5 </option>
                        <option value = 3> 3-4 </option>
                        <option value = 2 selected> 2-3 </option>
                        <option value = 1> 1-2 </option>
                        <option value = 0> 0-1 </option>
                        <option value = 5> All </option>
                        {%endif%}
                        {%if sess.rating_selected == 1 %}
                        <option value = 4> 4-5 </option>
                        <option value = 3> 3-4 </option>
                        <option value = 2> 2-3 </option>
                        <option value = 1 selected> 1-2 </option>
                        <option value = 0> 0-1 </option>
                        <option value = 5> All </option>
                        {%endif%}
                        {%if sess.rating_selected == 0  %}
                        <option value = 4> 4-5 </option>
                        <option value = 3> 3-4 </option>
                        <option value = 2> 2-3 </option>
                        <option value = 1> 1-2 </option>
                        <option value = 0 selected> 0-1 </option>
                        <option value = 5> All </option>
                        {%endif%}
                        {%if sess.rating_selected == 5 or sess.rating_selected == -1 %}
                        <option value = 4> 4-5 </option>
                        <option value = 3> 3-4 </option>
                        <option value = 2> 2-3 </option>
                        <option value = 1> 1-2 </option>
                        <option value = 0> 0-1 </option>
                        <option value = 5 selected> All </option>
                        {%endif%}
                    </select>
                </div>
            </div>
            <div class="col-auto">
                <br>
                <div class="form-group">
                    <label for="exampleCuisine">Cuisine</label>
                    <select name="cuisine" id = "cuisine" placeholder = "Select Cuisine">
                        <option value = 'All' selected> All </option>
                        {% for j in cuisines %}
                            {%if sess.cuisine_selected == j[0] %}
                            <option value = '{{j[0]}}' selected> {{j[0]}} </option>
                            {%else%}
                            <option value = '{{j[0]}}'> {{j[0]}} </option>
                            {%endif%}
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-auto">
                <br>
                <div class="form-group">
                    <label for="exampleLocation">Location</label>
                    <select name="location" id = "location" placeholder = "Select Location">
                        <option value = 'All' selected> All </option>
                        {% for j in location %}
                            {%if sess.location_selected == j[0] %}
                            <option value = '{{j[0]}}' selected> {{j[0]}} </option>
                            {%else%}
                            <option value = '{{j[0]}}'> {{j[0]}} </option>
                            {%endif%}
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-auto">
                <br>
                <button type="submit" class="btn btn-danger btn-small">Submit</button>
            </div>
        </div>
        <input type="hidden" name="type_" value= "0" id= "type_" />
    
    </form>
</div>
<br>
{%if search == 0%}
<div style="color:blue"><h5>Here are some popular restaurants:</h5></div><br>
{%endif%}
{%if search == 1%}
<div style="color:blue"><h5>Search Results:</h5></div><br>
{%endif%}
<!-- <div class='card-group'> -->
<div class="row row-cols-1 row-cols-md-3">
    {% for restaurant in restaurants %}
    <div class="col mb-4">
        <div class="card" style="width: 18rem;">
            <form class="justify-content-center" method="GET" action="{{url_for('booking')}}">
                <div class="card-body">
                    <h5 class="card-title"><a href="{{url_for('restdisplay')}}?restid={{restaurant[2]}}" class="card-link">{{restaurant[0]}}</a></h5>
                    <h6 class="card-subtitle mb-2 text-muted"><div style="color:red">{{restaurant[5]}}</div></h6>
                    <h6 class="card-subtitle mb-2">{{restaurant[7]}}</h6>
                    <h6 class="card-subtitle mb-2"><div style="color:purple">{{restaurant[4]}}</div></h6>
                    <p class="card-text">{{restaurant[6]}}</p>
                    <input type="hidden" name="restid" value= "{{restaurant[2]}}" id= "type_" />
                    <button type="submit" name="booking_restaurant" value={{restaurant[2]}} class="btn btn-danger btn-small" method="GET">Book Now</button>
                </div>
            </form>
        </div>
    </div>
    {% endfor %}
    </div>
</div>
<!-- </div> -->



{% endblock %}